# ğŸ§© Sistema de UsuÃ¡rios â€” FastAPI + Supabase + Jinja2

Este projeto Ã© uma aplicaÃ§Ã£o web desenvolvida com **FastAPI**, **Supabase** e **Jinja2**.
Ela permite **listar, cadastrar, atualizar e excluir usuÃ¡rios** armazenados em um banco de dados hospedado no **Supabase**.

---

## ğŸš€ Tecnologias utilizadas

* **[FastAPI](https://fastapi.tiangolo.com/)** â€” Framework web moderno e rÃ¡pido para APIs em Python.
* **[Supabase](https://supabase.com/)** â€” Banco de dados e autenticaÃ§Ã£o backend (alternativa open-source ao Firebase).
* **[Jinja2](https://jinja.palletsprojects.com/)** â€” Engine de templates para renderizar HTML.
* **[Python Dotenv](https://pypi.org/project/python-dotenv/)** â€” Carrega variÃ¡veis de ambiente do arquivo `.env`.
* **Pydantic** â€” ValidaÃ§Ã£o de dados com tipagem.
* **Uvicorn** â€” Servidor ASGI para executar o FastAPI.

---

## ğŸ“‚ Estrutura de pastas

```
projeto/
â”‚
â”œâ”€â”€ main.py                # CÃ³digo principal do FastAPI
â”œâ”€â”€ .env                   # VariÃ¡veis de ambiente (nÃ£o versionar)
â”‚
â”œâ”€â”€ templates/             # PÃ¡ginas HTML renderizadas pelo Jinja2
â”‚   â”œâ”€â”€ home.html
â”‚   â””â”€â”€ cadastro.html
â”‚
â”œâ”€â”€ static/                # Arquivos estÃ¡ticos (CSS, JS, imagens)
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â””â”€â”€ requirements.txt       # Lista de dependÃªncias
```

---

## âš™ï¸ ConfiguraÃ§Ã£o do ambiente

### 1. Clone o repositÃ³rio

```bash
git clone https://github.com/seu-usuario/seu-repo.git
cd seu-repo
```


### 3. Instale as dependÃªncias

Crie um arquivo `requirements.txt` com o seguinte conteÃºdo (ou use o abaixo diretamente):

```
fastapi
uvicorn
python-dotenv
supabase
jinja2
pydantic
```

Em seguida, instale-as com:

```bash
pip install -r requirements.txt
```

---

## ğŸ”‘ ConfiguraÃ§Ã£o do Supabase (.env)

Crie um arquivo chamado `.env` na raiz do projeto e adicione suas credenciais do Supabase:

```
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_KEY=sua-chave-secreta
```

Essas informaÃ§Ãµes podem ser encontradas no **painel do Supabase**, em
**Project Settings â†’ API â†’ Project URL e Anon/Public Key**.

---

## â–¶ï¸ Executando o projeto

Para iniciar o servidor FastAPI com **Uvicorn**, execute:

```bash
uvicorn main:app --reload
```

* `main`: nome do arquivo principal (`main.py`)
* `app`: nome da instÃ¢ncia FastAPI (`app = FastAPI()`)
* `--reload`: recarrega automaticamente ao salvar alteraÃ§Ãµes (modo desenvolvimento)

O servidor serÃ¡ iniciado em:
ğŸ‘‰ **[http://127.0.0.1:8000](http://127.0.0.1:8000)**

---

## ğŸŒ Rotas disponÃ­veis

### ğŸ”¹ Frontend

| Rota        | MÃ©todo | DescriÃ§Ã£o                      |
| ----------- | ------ | ------------------------------ |
| `/`         | GET    | PÃ¡gina inicial (home.html)     |
| `/cadastro` | GET    | PÃ¡gina de cadastro de usuÃ¡rios |

### ğŸ”¹ API (Backend)

| Rota             | MÃ©todo | DescriÃ§Ã£o                           |
| ---------------- | ------ | ----------------------------------- |
| `/usuarios`      | GET    | Lista todos os usuÃ¡rios             |
| `/usuarios/{id}` | GET    | Retorna usuÃ¡rio pelo ID             |
| `/usuarios`      | POST   | Cria novo usuÃ¡rio (`nome`, `email`) |
| `/usuarios/{id}` | PUT    | Atualiza usuÃ¡rio existente          |
| `/usuarios/{id}` | DELETE | Remove usuÃ¡rio existente            |

---

## ğŸ§  Dicas

* O middleware **CORS** estÃ¡ liberado para todas as origens (`*`) â€” Ã³timo para desenvolvimento, mas deve ser restringido em produÃ§Ã£o.
* O projeto depende das pastas `templates/` e `static/`, entÃ£o mantenha-as no mesmo diretÃ³rio do `main.py`.
* As tabelas no Supabase devem estar configuradas conforme o modelo:

  ```sql
  create table Usuario (
      id bigint generated by default as identity primary key,
      nome text not null,
      email text not null
  );
  ```

---

## ğŸ’» Exemplo de teste via cURL

Criar um novo usuÃ¡rio:

```bash
curl -X POST -F "nome=Maria" -F "email=maria@example.com" http://127.0.0.1:8000/usuarios
```

Listar usuÃ¡rios:

```bash
curl http://127.0.0.1:8000/usuarios
```

---

## ğŸ”‘ ConfiguraÃ§Ã£o do banco de dados Supabase

O **Supabase** Ã© usado como backend (banco de dados PostgreSQL + API REST automÃ¡tica).
VocÃª precisa de uma conta gratuita em [https://supabase.com](https://supabase.com).

### Passos:

1. **Crie um projeto no Supabase**

   * Acesse o painel e clique em **â€œNew Projectâ€**.
   * DÃª um nome e escolha uma senha para o banco.
   * Espere a inicializaÃ§Ã£o.

2. **Crie a tabela `Usuario`**

   * No painel lateral, vÃ¡ em **Table Editor â†’ Create Table**.
   * Nome: `Usuario`
   * Adicione as colunas:

     | Nome  | Tipo   | Atributos                   |
     | ----- | ------ | --------------------------- |
     | id    | bigint | primary key, auto increment |
     | nome  | text   | not null                    |
     | email | text   | not null                    |

3. **Obtenha as credenciais**

   * VÃ¡ em **Settings â†’ API**.
   * Copie:

     * **Project URL**
     * **Anon Key**

4. **Crie o arquivo `.env`** na raiz do projeto e adicione:

   ```
   SUPABASE_URL=https://SEU-PROJETO.supabase.co
   SUPABASE_KEY=sua-chave-anon-ou-service-role
   ```

Essas variÃ¡veis serÃ£o lidas automaticamente pelo cÃ³digo com `load_dotenv()` e usadas para conectar ao Supabase.

---

## â–¶ï¸ Executando o projeto

ApÃ³s configurar o `.env`, rode o servidor com:

```bash
uvicorn main:app --reload
```

ğŸ”— O servidor ficarÃ¡ disponÃ­vel em:
ğŸ‘‰ **[http://127.0.0.1:8000](http://127.0.0.1:8000)**

Se tudo estiver certo, vocÃª verÃ¡ no console algo como:

```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

---

## ğŸŒ Rotas disponÃ­veis

### ğŸ”¹ Frontend

| Rota        | MÃ©todo | DescriÃ§Ã£o                      |
| ----------- | ------ | ------------------------------ |
| `/`         | GET    | PÃ¡gina inicial (home.html)     |
| `/cadastro` | GET    | PÃ¡gina de cadastro de usuÃ¡rios |

### ğŸ”¹ API (Backend)

| Rota             | MÃ©todo | DescriÃ§Ã£o                           |
| ---------------- | ------ | ----------------------------------- |
| `/usuarios`      | GET    | Lista todos os usuÃ¡rios             |
| `/usuarios/{id}` | GET    | Retorna usuÃ¡rio pelo ID             |
| `/usuarios`      | POST   | Cria novo usuÃ¡rio (`nome`, `email`) |
| `/usuarios/{id}` | PUT    | Atualiza usuÃ¡rio existente          |
| `/usuarios/{id}` | DELETE | Remove usuÃ¡rio existente            |

---

## ğŸ§  Dicas

* O middleware **CORS** estÃ¡ liberado para todas as origens (`*`), o que facilita testes com o navegador.
  Em produÃ§Ã£o, limite os domÃ­nios autorizados.
* Mantenha as pastas `templates/` e `static/` no mesmo diretÃ³rio do arquivo `main.py`.
* Para testar o backend, vocÃª pode usar **Thunder Client**, **Insomnia** ou **Postman**.

---

## ğŸ“œ LicenÃ§a

Este projeto Ã© de uso livre para fins de estudo e desenvolvimento.
Sinta-se Ã  vontade para modificar, melhorar e reutilizar.

Este projeto Ã© livre para uso em estudos e demonstraÃ§Ãµes.
Sinta-se Ã  vontade para modificar e adaptar conforme sua necessidade.

